<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="author" content="Agu140">
    <title>Nombre de la actividad</title>
    <link rel="icon" type="image/x-icon" href="https://iesventura.es/_ies_datos/LOGO_new.jpg">
    <link rel="stylesheet" href="estilos.css">
</head>
<body>
    <script>
        /*
        Cada uno de nosotros hereda de sus padres biológicos un conjunto de 
        instrucciones químicas conocidas como ADN que influyen en cómo se 
        construye su cuerpo. Toda la vida conocida depende del ADN.

        El ADN es una cadena larga de otras sustancias químicas y las más 
        importantes son los cuatro nucleótidos: adenina, citosina, guanina 
        y timina. Una sola cadena de ADN puede contener miles de millones 
        de estos cuatro nucleótidos y el orden en el que aparecen es 
        importante. Llamamos "secuencia de ADN" al orden de estos nucleótidos 
        en un fragmento de ADN.

        Representamos una secuencia de ADN como una colección ordenada de estos 
        cuatro nucleótidos y una forma común de hacerlo es con una cadena de 
        caracteres como "ATTACG" para una secuencia de ADN de 6 nucleótidos. 
        “A" para adenina, "C" para citosina, "G" para guanina y "T" para 
        timina.

        Se pide:

        Crear la función cuentaNucleotidos con las siguientes especificaciones:

        Recibe un array de caracteres los cuales representan una secuencia de ADN.
        Contar cuántos de cada nucleótido están presentes en dicho array. Si la 
        secuencia contiene caracteres que no son A, C, G o T, entonces no es válida 
        y debe devolver una cadena de caracteres con el mensaje de error: 
        'Error: Secuencia de ADN no válida. Sólo debe contener 'A', 'C', 'G' o 'T'.'

        En caso de ser válida, la función debe devolver un objeto de tipo Map donde 
        la clave corresponde al nucleótido y el valor a la cantidad de estos 
        encontrada en la secuencia estudiada.
        
        Ejemplo:

        secuenciaValida = ['G', 'T', 'T', 'A', 'C', 'A']; 
        secuenciaNoValida = ['A','T','G','G','C','T','T','A','I','G'];

        cuentaNucleotidos(secuenciaValida) //Map(4){'A'=>2,'C'=>1,'G'=>1,'T'=>2}
        cuentaNucleotidos(secuenciaNoValida) //Error: Secuencia de ADN no válida. Sólo debe contener 'A', 'C', 'G' o 'T'.
        */

        // Primero creamos los dos arrays a modo de demo que nuestro script probara.
        var secuenciaDemo1 = ["A", "G", "A", "C", "T", "A", "C"];
        var secuenciaDemo2 = ["A", "G", "A", "S", "T", "A", "C"];

        // Creamos las variable que "true", es valida, "false" no lo es.
        var valida1 = verificarSecuenciaValida(secuenciaDemo1);
        var valida2 = verificarSecuenciaValida(secuenciaDemo2);

        // Imprime en consola la validez de las secuencias.
        console.log("La secuencia N.º1 es: " + (valida1 ? "valida" : "invalida") + ".");
        console.log("La secuencia N.º2 es: " + (valida2 ? "valida" : "invalida") + ".");

        // Trabajamos solo con la secuencia valida, procedemos a contar los nucleotidos.
        var totalNucleotidos = cuentaNucleotidos(secuenciaDemo1);




        // Función / método que verifica si una secuencia es valida o no.
        function verificarSecuenciaValida (secuencia) {
            // De entrada es supuestamente "valida" hasta que se demuestre lo contrario.
            var resultado = true;

            // Recorremos el array una por una sus posiciones, si encontramos algo diferente a "A", "G", "C" o "T" devuelve false.
            for (posicion = 0; posicion < secuencia.length; posicion++) {
                // Verificamos una a una las pisiciones con charAt y un if algo largo..
                if (secuencia[posicion] !== "A" && secuencia[posicion] !== "C" && secuencia[posicion] !== "G" && secuencia[posicion] !== "T") {
                    alert("¡Error! Secuencia no valida, solo puede contener 'A', 'C', 'G' o 'T'");
                    resultado = false;
                }
            }    
            
            // Devolvera true a menos que el "if" lo convierta en false.
            return resultado;
        }

        function cuentaNucleotidos(secuencia) {
            // Creamo un nuevo mapa al que, ahora, le diremos sus indices.
            var nuevoMapa = new Map();

            // Creamos los indices para los 4 nucleotidos con valor "0".
            nuevoMapa.set("A", 0);
            nuevoMapa.set("C", 0);
            nuevoMapa.set("G", 0);
            nuevoMapa.set("T", 0);

            // Bucle que recorre una por una todas las posiciones de un array.
            for (posicion = 0; posicion < secuencia.length - 1; posicion++) {
                // Guardamos en una variable el nucleotido en la posición actual del array.
                var nucleotido = secuencia[posicion];

                conteoActual = nuevoMapa.get(nucleotido);

                
            }
        }
    </script>
</body>
</html>